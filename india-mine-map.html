<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>India Coal Mine Map</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 0;
            min-height: 700px;
        }

        .map-section {
            padding: 30px;
            background: #f8f9fa;
        }

        .controls-section {
            padding: 30px;
            background: white;
            border-left: 1px solid #e0e0e0;
        }

        .map-container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 20px;
        }

        #india-map {
            width: 100%;
            height: 600px;
            border-radius: 8px;
        }

        .india-landmass {
            fill: #4CAF50;
            stroke: #2E7D32;
            stroke-width: 1;
            transition: fill 0.3s ease;
        }

        .india-landmass:hover {
            fill: #66BB6A;
        }

        .mine-marker {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mine-marker:hover {
            transform: scale(1.3);
        }

        .mine-open-cast {
            fill: #FF5722;
            stroke: #D84315;
            stroke-width: 2;
        }

        .mine-underground {
            fill: #2196F3;
            stroke: #1565C0;
            stroke-width: 2;
        }

        .mine-mixed {
            fill: #FF9800;
            stroke: #E65100;
            stroke-width: 2;
        }

        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            max-width: 280px;
        }

        .tooltip.show {
            opacity: 1;
        }

        .tooltip h4 {
            margin-bottom: 8px;
            color: #4CAF50;
        }

        .controls h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .filter-group {
            margin-bottom: 25px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
        }

        .filter-group select,
        .filter-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
        }

        .stat-card {
            background: #f0f7ff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e3f2fd;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #1976d2;
            display: block;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .legend {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .legend h4 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .legend-marker {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid;
        }

        .legend-marker.open-cast {
            background: #FF5722;
            border-color: #D84315;
        }

        .legend-marker.underground {
            background: #2196F3;
            border-color: #1565C0;
        }

        .legend-marker.mixed {
            background: #FF9800;
            border-color: #E65100;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .controls-section {
                border-left: none;
                border-top: 1px solid #e0e0e0;
            }

            .stats-grid {
                grid-template-columns: 1fr 1fr 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }

            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè≠ India Coal Mine Map</h1>
            <p>Interactive map showing coal mine locations across India with detailed information</p>
        </div>

        <div class="main-content">
            <div class="map-section">
                <div class="map-container">
                    <svg id="india-map" viewBox="0 0 1000 900" xmlns="http://www.w3.org/2000/svg">
                        <!-- India Landmass -->
                        <path id="india-landmass" class="india-landmass" d="M200 100 
                        L250 95 L300 90 L350 95 L400 100 L450 110 L500 120 L550 130 
                        L600 140 L650 160 L700 180 L750 200 L800 230 L820 260 L830 290 
                        L825 320 L820 350 L810 380 L800 410 L780 440 L760 470 L740 500 
                        L720 530 L700 560 L680 590 L660 620 L640 650 L620 680 L600 710 
                        L580 740 L560 770 L540 800 L520 780 L500 760 L480 740 L460 720 
                        L440 700 L420 680 L400 660 L380 640 L360 620 L340 600 L320 580 
                        L300 560 L280 540 L260 520 L240 500 L220 480 L200 460 L180 440 
                        L170 420 L160 400 L150 380 L140 360 L130 340 L120 320 L110 300 
                        L105 280 L100 260 L95 240 L90 220 L95 200 L105 180 L120 160 
                        L140 140 L160 120 L180 110 Z"/>
                        
                        <!-- Coal Mine Markers will be added dynamically -->
                    </svg>
                </div>
            </div>

            <div class="controls-section">
                <h3>üîç Map Controls</h3>

                <div class="filter-group">
                    <label for="state-filter">Filter by State:</label>
                    <select id="state-filter">
                        <option value="">All States</option>
                        <option value="jharkhand">Jharkhand</option>
                        <option value="chhattisgarh">Chhattisgarh</option>
                        <option value="odisha">Odisha</option>
                        <option value="west-bengal">West Bengal</option>
                        <option value="telangana">Telangana</option>
                        <option value="bihar">Bihar</option>
                        <option value="maharashtra">Maharashtra</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="type-filter">Filter by Type:</label>
                    <select id="type-filter">
                        <option value="">All Types</option>
                        <option value="open-cast">Open Cast</option>
                        <option value="underground">Underground</option>
                        <option value="mixed">Mixed</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="search-input">Search Mines:</label>
                    <input type="text" id="search-input" placeholder="Enter mine name...">
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number" id="total-mines">0</span>
                        <div class="stat-label">Total Mines</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="visible-mines">0</span>
                        <div class="stat-label">Visible</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="open-cast-count">0</span>
                        <div class="stat-label">Open Cast</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="underground-count">0</span>
                        <div class="stat-label">Underground</div>
                    </div>
                </div>

                <div class="legend">
                    <h4>Legend</h4>
                    <div class="legend-item">
                        <div class="legend-marker open-cast"></div>
                        <span>Open Cast Mine</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-marker underground"></div>
                        <span>Underground Mine</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-marker mixed"></div>
                        <span>Mixed Type Mine</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Coal mine data with accurate locations in India
        const coalMines = [
            // Jharkhand
            { name: "Dhanbad Coalfield", state: "jharkhand", type: "open-cast", x: 580, y: 350, production: 45.2, emissions: 125000 },
            { name: "Jharia Coalfield", state: "jharkhand", type: "mixed", x: 590, y: 360, production: 38.5, emissions: 110000 },
            { name: "Bokaro Coalfield", state: "jharkhand", type: "open-cast", x: 570, y: 370, production: 42.8, emissions: 118000 },
            { name: "Raniganj Extension", state: "jharkhand", type: "underground", x: 610, y: 380, production: 22.1, emissions: 65000 },
            
            // Chhattisgarh
            { name: "Korba Coalfield", state: "chhattisgarh", type: "open-cast", x: 520, y: 420, production: 55.3, emissions: 145000 },
            { name: "Raigarh Coal Block", state: "chhattisgarh", type: "open-cast", x: 530, y: 430, production: 48.7, emissions: 132000 },
            { name: "Bilaspur Coal Mine", state: "chhattisgarh", type: "mixed", x: 510, y: 410, production: 35.2, emissions: 98000 },
            { name: "Hasdev Bango", state: "chhattisgarh", type: "open-cast", x: 540, y: 440, production: 41.5, emissions: 115000 },
            
            // Odisha
            { name: "Talcher Coalfield", state: "odisha", type: "open-cast", x: 620, y: 450, production: 52.8, emissions: 138000 },
            { name: "Ib Valley Coalfield", state: "odisha", type: "open-cast", x: 600, y: 440, production: 46.3, emissions: 128000 },
            { name: "Basundhara Coal Block", state: "odisha", type: "mixed", x: 610, y: 460, production: 33.7, emissions: 92000 },
            { name: "Hingir Coalfield", state: "odisha", type: "open-cast", x: 590, y: 470, production: 29.4, emissions: 82000 },
            
            // West Bengal
            { name: "Raniganj Coalfield", state: "west-bengal", type: "underground", x: 650, y: 380, production: 28.9, emissions: 78000 },
            { name: "Birbhum Coalfield", state: "west-bengal", type: "mixed", x: 640, y: 370, production: 31.2, emissions: 86000 },
            { name: "Purulia Coal Mine", state: "west-bengal", type: "open-cast", x: 630, y: 390, production: 25.6, emissions: 71000 },
            
            // Telangana
            { name: "Singareni Collieries", state: "telangana", type: "mixed", x: 480, y: 520, production: 44.1, emissions: 122000 },
            { name: "Ramagundam Coalfield", state: "telangana", type: "open-cast", x: 490, y: 510, production: 36.8, emissions: 102000 },
            { name: "Bellampalli Coal Mine", state: "telangana", type: "underground", x: 500, y: 530, production: 21.3, emissions: 59000 },
            
            // Bihar
            { name: "Amlori Coal Block", state: "bihar", type: "open-cast", x: 560, y: 340, production: 18.7, emissions: 52000 },
            { name: "Khadia Coal Mine", state: "bihar", type: "mixed", x: 550, y: 330, production: 15.2, emissions: 43000 },
            
            // Maharashtra
            { name: "Chandrapur Coalfield", state: "maharashtra", type: "open-cast", x: 460, y: 480, production: 39.6, emissions: 109000 },
            { name: "Nagpur Coal Block", state: "maharashtra", type: "mixed", x: 470, y: 470, production: 32.4, emissions: 89000 },
            { name: "Wardha Valley", state: "maharashtra", type: "open-cast", x: 450, y: 490, production: 27.8, emissions: 77000 }
        ];

        // Initialize the map
        class IndiaCoalMap {
            constructor() {
                this.svg = document.getElementById('india-map');
                this.tooltip = document.getElementById('tooltip');
                this.mines = coalMines;
                this.filteredMines = [...this.mines];
                
                this.init();
            }

            init() {
                this.renderMines();
                this.setupEventListeners();
                this.updateStats();
            }

            renderMines() {
                // Remove existing mine markers
                const existingMarkers = this.svg.querySelectorAll('.mine-marker');
                existingMarkers.forEach(marker => marker.remove());

                // Add mine markers
                this.filteredMines.forEach(mine => {
                    const marker = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    marker.setAttribute('cx', mine.x);
                    marker.setAttribute('cy', mine.y);
                    marker.setAttribute('r', 8);
                    marker.classList.add('mine-marker', `mine-${mine.type}`);
                    marker.dataset.mine = JSON.stringify(mine);

                    // Add hover effects
                    marker.addEventListener('mouseenter', (e) => this.showTooltip(e, mine));
                    marker.addEventListener('mouseleave', () => this.hideTooltip());
                    marker.addEventListener('mousemove', (e) => this.moveTooltip(e));

                    this.svg.appendChild(marker);
                });
            }

            showTooltip(event, mine) {
                const tooltip = this.tooltip;
                tooltip.innerHTML = `
                    <h4>${mine.name}</h4>
                    <p><strong>State:</strong> ${mine.state.charAt(0).toUpperCase() + mine.state.slice(1).replace('-', ' ')}</p>
                    <p><strong>Type:</strong> ${mine.type.charAt(0).toUpperCase() + mine.type.slice(1).replace('-', ' ')}</p>
                    <p><strong>Production:</strong> ${mine.production} MT/year</p>
                    <p><strong>Emissions:</strong> ${mine.emissions.toLocaleString()} t CO‚ÇÇeq/year</p>
                `;
                tooltip.classList.add('show');
                this.moveTooltip(event);
            }

            hideTooltip() {
                this.tooltip.classList.remove('show');
            }

            moveTooltip(event) {
                const tooltip = this.tooltip;
                const rect = this.svg.getBoundingClientRect();
                tooltip.style.left = (event.clientX + 10) + 'px';
                tooltip.style.top = (event.clientY - 10) + 'px';
            }

            filterMines() {
                const stateFilter = document.getElementById('state-filter').value;
                const typeFilter = document.getElementById('type-filter').value;
                const searchTerm = document.getElementById('search-input').value.toLowerCase();

                this.filteredMines = this.mines.filter(mine => {
                    const matchesState = !stateFilter || mine.state === stateFilter;
                    const matchesType = !typeFilter || mine.type === typeFilter;
                    const matchesSearch = !searchTerm || mine.name.toLowerCase().includes(searchTerm);
                    
                    return matchesState && matchesType && matchesSearch;
                });

                this.renderMines();
                this.updateStats();
            }

            updateStats() {
                const totalMines = this.mines.length;
                const visibleMines = this.filteredMines.length;
                const openCastCount = this.filteredMines.filter(m => m.type === 'open-cast').length;
                const undergroundCount = this.filteredMines.filter(m => m.type === 'underground').length;

                document.getElementById('total-mines').textContent = totalMines;
                document.getElementById('visible-mines').textContent = visibleMines;
                document.getElementById('open-cast-count').textContent = openCastCount;
                document.getElementById('underground-count').textContent = undergroundCount;
            }

            setupEventListeners() {
                document.getElementById('state-filter').addEventListener('change', () => this.filterMines());
                document.getElementById('type-filter').addEventListener('change', () => this.filterMines());
                document.getElementById('search-input').addEventListener('input', () => this.filterMines());
            }
        }

        // Initialize the map when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new IndiaCoalMap();
        });
    </script>
</body>
</html>
